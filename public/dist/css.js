(function(){var e={version:"0.1.0",_maxAttempts:20,_init:function(){return typeof document!="undefined"&&(this._doc=document,this._head=this._doc.getElementsByTagName("head")[0],this._IE7_8_9_StylesheetLimit=30,this._intervalToCheckLink=700),this},_jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},_applyCss:function(e){var t=this._doc.createElement("style");t.type="text/css",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),this._head.appendChild(t)},_getIEVersion:function(){var e=-1;if(navigator.appName==="Microsoft Internet Explorer"){var t=navigator.userAgent,n=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})");n.exec(t)!==null&&(e=parseFloat(RegExp.$1))}return e},_checkIeLimitWorkaround:function(e,t){var n=this._doc,r=!1,i=this._getIEVersion(),s=i!==-1&&i<=9?!0:!1;try{if(n.createStyleSheet&&n.styleSheets&&n.styleSheets.length>this._IE7_8_9_StylesheetLimit){var o=n.styleSheets[n.styleSheets.length-1];o.addImport(e,n.styleSheets.length-1),r=!0,t()}}catch(u){this._onerror(t,u),r=!1}return r},_getUniqueId:function(){return"cssPreloader_"+Math.round(Math.random()*9999999999)},_createLink:function(e){var t=this._doc.createElement("link");return t.rel="stylesheet",t.type="text/css",t.id=this._getUniqueId(),t.href=e,t},_isEventSupported:function(e,t){var n=document.createElement(e);t="on"+t;var r=t in n;return r||(n.setAttribute(t,"return;"),r=typeof n[t]=="function",n=null),r},_loadNative:function(e,t){var n=this._createLink(e);n.onload=function(){t()};var r=this;n.onerror=function(){r._onerror(t)},this._head.appendChild(n)},_onerror:function(e,t){if(Object.prototype.toString.call(e.error)==="[object Function]"){var n={message:"Failed to load stylesheet",innerException:t};e.error(n)}},_loadWhenNotSupported:function(e,t){var n=function(e,t,r){try{if(!(r<this._maxAttempts)){this._onerror(t);return}var i=document.styleSheets;for(var s=0;s<i.length;s++){var o=i[s],u=o.ownerNode?o.ownerNode:o.owningElement;if(u&&u.id===e.id){var a=!0,f=null;try{o.cssRules?f=o.cssRules:o.rules?f=o.rules:a=!1}catch(l){a=!1}if(a){if(f&&f.length&&f.length>0){t();return}this._onerror(t);return}t()}}var h=this;setTimeout(function(){n.call(h,e,t,++r)},this._intervalToCheckLink)}catch(l){this._onerror(t,l);return}},r=this._createLink(e);this._head.appendChild(r);var i=this,s=0;setTimeout(function(){n.call(i,r,t,s)},this._intervalToCheckLink)},loadStylesheet:function(e,t){var n=this._checkIeLimitWorkaround(e,t);n||(this._isEventSupported("link","load")?this._loadNative(e,t):this._loadWhenNotSupported(e,t))},load:function(e,t,n,r){try{if(r.isBuild){n();return}var i=t.toUrl(e.search(/\.(css)$/i)===-1?e+".css":e);this._intervalToCheckLink=r&&r.waitSeconds?r.waitSeconds/this._maxAttempts:700,this.loadStylesheet(i,n)}catch(s){n()}}};typeof define=="function"?define([],function(){return e._init()}):window&&(window.css=e._init())})()